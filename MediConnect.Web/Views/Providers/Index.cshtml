@model IEnumerable<MediConnect.Web.Models.Provider>
@{
    ViewData["Title"] = "Providers";
    string CityState(MediConnect.Web.Models.Provider pr) =>
        $"{(string.IsNullOrWhiteSpace(pr.City) ? "—" : pr.City)}, {pr.State ?? ""}".Trim(',', ' ');
    string Npi(MediConnect.Web.Models.Provider pr) => pr.NpiNumber?.ToString() ?? "—";
}

<div class="card" style="max-width:1100px;margin:auto">
  <div class="section-head">
    <div class="section-title">Providers</div>
    <div>
      <a class="btn btn-success" asp-action="Create">+ New Provider</a>
    </div>
  </div>

  @if (Model == null || !Model.Any())
  {
    <div class="text-muted">No providers yet. Click <strong>+ New Provider</strong> to add your first record.</div>
  }
  else
  {
    <table class="table mt-2">
      <thead>
        <tr>
          <th style="width:26%">Name</th>
          <th style="width:20%">Specialty</th>
          <th style="width:16%">NPI</th>
          <th style="width:22%">City / State</th>
          <th style="width:16%">Phone</th>
          <th style="width:10%"></th>
        </tr>
      </thead>
      <tbody>
      @foreach (var pr in Model)
      {
        <tr>
          <td>@(string.IsNullOrWhiteSpace(pr.FullName) ? "—" : pr.FullName)</td>
          <td>@(string.IsNullOrWhiteSpace(pr.Specialty) ? "—" : pr.Specialty)</td>
          <td>@Npi(pr)</td>
          <td>@CityState(pr)</td>
          <td>@(string.IsNullOrWhiteSpace(pr.Phone) ? "—" : pr.Phone)</td>
          <td class="right" style="display:flex;gap:8px;justify-content:flex-end">
            <a class="btn btn-ghost" asp-action="Details" asp-route-id="@pr.Id">View</a>
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@pr.Id">Edit</a>
            <a class="btn btn-danger" asp-action="Delete" asp-route-id="@pr.Id">Delete</a>
          </td>
        </tr>
      }
      </tbody>
    </table>
  }
</div>
